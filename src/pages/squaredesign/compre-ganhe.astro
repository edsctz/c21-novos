---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import LeadForm from '../../components/LeadForm.astro';
import LeadFormSticky from '../../components/LeadFormSticky.jsx';
import Footer from '../../components/Footer.astro';
---

<Layout 
  title="Compre e Ganhe - Square Design Residence Alphaville | Century 21 Alpha"
  description="Oferta especial de pr√©-lan√ßamento! Compre seu apartamento no Square Design Residence e ganhe uma Smart TV. Condi√ß√µes imperd√≠veis por tempo limitado."
>
  <!-- Header Navigation -->
  <Header propertyId="squaredesign" />
  
  <!-- Promotional Offer Section -->
  <section class="py-16 bg-digital-black">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h1 class="text-3xl md:text-4xl font-bold text-white mb-4">
          <span class="text-relentless-gold">Compre e Ganhe</span> - Oferta Especial
        </h1>
        <p class="text-xl text-gray-300 max-w-3xl mx-auto">
          Condi√ß√µes exclusivas de pr√©-lan√ßamento por tempo limitado
        </p>
      </div>

      <!-- Offer Image Section -->
      <div class="max-w-4xl mx-auto mb-12">
        <div class="bg-gradient-to-br from-relentless-gold/20 to-digital-black rounded-3xl p-6 border-2 border-relentless-gold/30 shadow-2xl">
          <div class="overflow-hidden rounded-2xl">
            <div class="relative w-full max-w-sm mx-auto md:max-h-80" style="aspect-ratio: 300/300;">
              <img 
                src="/images/squaredesign/compre-ganhe/COMPROU-GANHOU.png"
                onerror="this.src='https://images.unsplash.com/photo-1560472354-b33ff0c44a43?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'"
                alt="Oferta Especial - Square Design Residence Alphaville - Compre e Ganhe"
                class="absolute inset-0 w-full h-full object-contain"
                loading="eager"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Promotional Banner -->
      <div class="max-w-4xl mx-auto mb-16">
        <div class="bg-relentless-gold/95 backdrop-blur-sm rounded-2xl p-6 text-center border-2 border-relentless-gold shadow-xl">
          <h2 class="text-2xl md:text-3xl font-bold text-digital-black mb-2">
            üéÅ OFERTA ESPECIAL DE PR√â-LAN√áAMENTO
          </h2>
          <p class="text-lg text-digital-black font-semibold">
            Compre seu apartamento e ganhe uma Smart TV Ultra HD!
          </p>
        </div>
      </div>

      <!-- Offer Details Text Section -->
      <div class="max-w-4xl mx-auto">
        <div class="bg-obsessed-grey rounded-2xl p-8 md:p-12 border border-digital-medium-grey">
          <div class="text-center mb-8">
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-4">
              Benef√≠cios <span class="text-relentless-gold">Exclusivos</span>
            </h2>
            <p class="text-lg text-gray-300 leading-relaxed">
              Aproveite as condi√ß√µes especiais de pr√©-lan√ßamento do Square Design Residence Alphaville. 
              Uma oportunidade √∫nica para garantir seu apartamento com vantagens imperd√≠veis.
            </p>
          </div>

          <!-- Benefits Grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            <div class="space-y-6">
              <div class="flex items-start">
                <div class="bg-relentless-gold rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1 flex-shrink-0">
                  <span class="text-digital-black font-bold text-sm">1</span>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-relentless-gold mb-2">Entrada Facilitada</h3>
                  <p class="text-gray-300 text-sm">
                    Condi√ß√µes especiais de pagamento com entrada parcelada 
                    durante a obra.
                  </p>
                </div>
              </div>

              <div class="flex items-start">
                <div class="bg-relentless-gold rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1 flex-shrink-0">
                  <span class="text-digital-black font-bold text-sm">2</span>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-relentless-gold mb-2">Desconto Especial</h3>
                  <p class="text-gray-300 text-sm">
                    Desconto para pagamento √† vista ou financiamento direto 
                    com a construtora.
                  </p>
                </div>
              </div>

              <div class="flex items-start">
                <div class="bg-relentless-gold rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1 flex-shrink-0">
                  <span class="text-digital-black font-bold text-sm">3</span>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-relentless-gold mb-2">Ganhe uma SmartTV Ultra HD</h3>
                  <p class="text-gray-300 text-sm">
                    Exclusivo para clientes 
                    da Century 21 Alpha.
                  </p>
                </div>
              </div>
            </div>

            <div class="space-y-6">
              <div class="flex items-start">
                <div class="bg-relentless-gold rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1 flex-shrink-0">
                  <span class="text-digital-black font-bold text-sm">4</span>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-relentless-gold mb-2">Alta Valoriza√ß√£o</h3>
                  <p class="text-gray-300 text-sm">
                    Localiza√ß√£o privilegiada em Alphaville com valoriza√ß√£o 
                    imobili√°ria acima da m√©dia do mercado.
                  </p>
                </div>
              </div>

              <div class="flex items-start">
                <div class="bg-relentless-gold rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1 flex-shrink-0">
                  <span class="text-digital-black font-bold text-sm">5</span>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-relentless-gold mb-2">Assessoria Completa</h3>
                  <p class="text-gray-300 text-sm">
                    Acompanhamento personalizado da Century 21 Alpha durante 
                    todo o processo de compra e financiamento.
                  </p>
                </div>
              </div>

              <div class="flex items-start">
                <div class="bg-relentless-gold rounded-full w-8 h-8 flex items-center justify-center mr-4 mt-1 flex-shrink-0">
                  <span class="text-digital-black font-bold text-sm">6</span>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-relentless-gold mb-2">Brinde Surpresa</h3>
                  <p class="text-gray-300 text-sm">
                    Kit supresa 
                    para os primeiros 10 compradores.
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Urgency Banner -->
          <div class="bg-gradient-to-r from-digital-highlight-red/20 to-relentless-gold/20 border border-relentless-gold/50 rounded-xl p-6 text-center">
            <h3 class="text-xl font-bold text-relentless-gold mb-2">
              ‚è∞ Oferta por Tempo Limitado
            </h3>
            <p class="text-gray-300">
              <strong>Apenas at√© 30 de Setembro de 2025</strong> ou enquanto durarem as unidades reservadas. 
              N√£o perca esta oportunidade √∫nica!
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Lead Form Section -->
  <LeadForm 
    title="Garanta Sua Oferta Especial"
    description="Preencha o formul√°rio e receba todas as condi√ß√µes exclusivas de pr√©-lan√ßamento. Nossa equipe entrar√° em contato em at√© 30 minutos."
    buttonText="üéÅ Garantir Oferta Especial"
    trackingLabel="Compre e Ganhe Special Offer"
    propertyId="squaredesign"
  />

  <!-- Final CTA -->
  <section class="py-16 bg-gradient-gold">
    <div class="container text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-digital-black mb-4">
        N√£o Deixe Esta Oportunidade Passar
      </h2>
      <p class="text-xl text-digital-black mb-8 max-w-3xl mx-auto">
        <strong>Oferta v√°lida apenas at√© 30/09/2025.</strong> Agende sua visita agora e 
        garante as melhores condi√ß√µes de pr√©-lan√ßamento do Square Design Residence.
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <a 
          href="https://wa.me/5511990111592?text=Ol√°! Quero aproveitar a oferta especial Compre e Ganhe do Square Design Residence Alphaville."
          target="_blank"
          rel="noopener noreferrer"
          class="bg-digital-black text-relentless-gold font-bold py-4 px-8 rounded-lg text-lg hover:bg-obsessed-grey transition-all duration-300 hover:scale-105"
        >
          üì± Garantir Oferta via WhatsApp
        </a>
        
        <a 
          href="tel:+5511990111592"
          class="bg-transparent border-2 border-digital-black text-digital-black font-bold py-4 px-8 rounded-lg text-lg hover:bg-digital-black hover:text-relentless-gold transition-all duration-300 hover:scale-105"
        >
          üìû Ligar Agora
        </a>
      </div>

      <!-- Countdown Timer Placeholder -->
      <div class="mt-8 bg-digital-black/20 backdrop-blur-sm rounded-xl p-4 max-w-md mx-auto">
        <p class="text-digital-black font-semibold mb-2">‚è∞ Oferta expira em:</p>
        <div class="text-2xl font-bold text-digital-black" id="countdown-timer">
          <!-- JavaScript countdown will be inserted here -->
          30 de Setembro de 2025
        </div>
      </div>
    </div>
  </section>
  
  <!-- Sticky Lead Form (Mobile) -->
  <LeadFormSticky client:load propertyId="squaredesign" />
  
  <!-- Footer -->
  <Footer />
</Layout>

<script>
  // Form submission handling
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('#lead-form form');
    
    if (form) {
      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());
        
        // Add UTM data
        const utmData = JSON.parse(localStorage.getItem('utmData') || '{}');
        const submitData = {
          ...data,
          ...utmData,
          timestamp: new Date().toISOString(),
          page_url: window.location.href,
          source_page: 'compre-ganhe',
          offer_type: 'pre-lancamento-especial'
        };
        
        // Track form submission with higher value for promotional page
        if (typeof gtag !== 'undefined') {
          gtag('event', 'generate_lead', {
            event_category: 'Lead Form',
            event_label: 'Compre e Ganhe Special Offer',
            value: 5 // Higher value for promotional leads
          });
        }
        
        if (typeof fbq !== 'undefined') {
          fbq('track', 'Lead', {
            content_name: 'Square Design Residence - Compre e Ganhe',
            content_category: 'Real Estate Special Offer',
            value: 5
          });
        }
        
        try {
          alert('üéâ Parab√©ns! Sua solicita√ß√£o foi enviada. Nossa equipe entrar√° em contato em at√© 30 minutos com todas as condi√ß√µes especiais!');
          form.reset();
        } catch (error) {
          console.error('Error:', error);
          alert('Erro ao enviar formul√°rio. Entre em contato via WhatsApp para garantir sua oferta especial.');
        }
      });
    }

    // Simple countdown timer (optional enhancement)
    function updateCountdown() {
      const targetDate = new Date('2025-09-30T23:59:59');
      const now = new Date();
      const timeLeft = targetDate - now;
      
      if (timeLeft > 0) {
        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        
        const countdownElement = document.getElementById('countdown-timer');
        if (countdownElement) {
          countdownElement.innerHTML = `${days}d ${hours}h ${minutes}m`;
        }
      }
    }
    
    // Update countdown every minute
    updateCountdown();
    setInterval(updateCountdown, 60000);
  });
</script>
