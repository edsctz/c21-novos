---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import LeadFormSticky from '../../components/LeadFormSticky.jsx';
---

<Layout 
  title="Galeria de Fotos - Beyond Residence | Century 21 Alpha"
  description="Conhe√ßa as √°reas de lazer e decorados do Beyond Residence Alphaville. Fotos em alta qualidade do empreendimento."
>
  <Header propertyId="beyondresidence" />
  
  <!-- Gallery Header -->
  <section class="pt-32 pb-16 bg-digital-black">
    <div class="container">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
          Galeria de <span class="text-gold">Fotos</span>
        </h1>
        <p class="text-xl text-gray-300">
          Conhe√ßa as √°reas de lazer e os apartamentos decorados do Beyond Residence
        </p>
      </div>
    </div>
  </section>
  
  <!-- Gallery Grid -->
  <section class="py-16 bg-obsessed-grey">
    <div class="container">
      <div id="galeria" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Gallery Images -->
        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/Implantacao.webp"
            alt="Implanta√ß√£o do Beyond Residence - Vista geral do empreendimento"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/Piscina.webp"
            alt="Piscina adulto com √°rea de lazer completa - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/PoolIndoor.webp"
            alt="Piscina coberta aquecida - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/Academia-Rooftop.webp"
            alt="Academia completa no rooftop com vista panor√¢mica - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/Espa√ßoGourmet.webp"
            alt="Espa√ßo gourmet com churrasqueira e √°rea de conviv√™ncia - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/Churrasqueira_Detalhe.webp"
            alt="Churrasqueira com acabamento premium - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/FireLounge.webp"
            alt="Fire Lounge com lareira e ambiente aconchegante - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/Coworking.webp"
            alt="Coworking completo para trabalho remoto - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/Brinquedoteca.webp"
            alt="Brinquedoteca equipada para crian√ßas - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/Espa√ßoGamer.webp"
            alt="Espa√ßo gamer com equipamentos de √∫ltima gera√ß√£o - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/Espa√ßoBeleza.webp"
            alt="Espa√ßo beleza para cuidados pessoais - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>

        <div class="gallery-item cursor-pointer overflow-hidden rounded-xl bg-digital-medium-grey">
          <img 
            src="/images/beyondresidence/galeria/PetClub.webp"
            alt="Pet Club com √°rea dedicada para pets - Beyond Residence"
            class="w-full h-64 object-cover transition-transform duration-300 hover:scale-105"
            loading="lazy"
          />
        </div>
      </div>
    </div>
  </section>
  
  <!-- CTA Section -->
  <section class="py-16 bg-gradient-gold">
    <div class="container text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-digital-black mb-4">
        Agende Sua Visita
      </h2>
      <p class="text-xl text-digital-black mb-8 max-w-3xl mx-auto">
        Venha conhecer pessoalmente o Beyond Residence e todas as suas facilidades
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <a 
          href="https://wa.me/5511947176122?text=Ol√°! Quero agendar uma visita ao Beyond Residence."
          target="_blank"
          rel="noopener noreferrer"
          class="bg-digital-black text-relentless-gold font-bold py-4 px-8 rounded-lg text-lg hover:bg-obsessed-grey transition-all duration-300 hover:scale-105"
        >
          üì± Agendar Visita via WhatsApp
        </a>
        
        <a 
          href="/beyondresidence"
          class="bg-transparent border-2 border-digital-black text-digital-black font-bold py-4 px-8 rounded-lg text-lg hover:bg-digital-black hover:text-relentless-gold transition-all duration-300 hover:scale-105"
        >
          ‚Üê Voltar para P√°gina Principal
        </a>
      </div>
    </div>
  </section>
  
  <!-- Full-Screen Modal -->
  <div id="fullscreen-modal" class="fixed inset-0 bg-black bg-opacity-95 z-50 hidden">
    <!-- Top Bar with Close Button and Counter -->
    <div class="absolute top-0 left-0 right-0 z-20 bg-gradient-to-b from-black/80 to-transparent p-4">
      <div class="flex justify-between items-center">
        <!-- Image Counter -->
        <div class="bg-black/60 backdrop-blur-sm rounded-full px-4 py-2 text-white font-medium">
          <span id="current-image">1</span> / <span id="total-images">12</span>
        </div>
        
        <!-- Close Button -->
        <button 
          id="close-modal" 
          class="bg-black/60 backdrop-blur-sm hover:bg-relentless-gold/20 rounded-full w-12 h-12 flex items-center justify-center text-white text-2xl font-bold transition-all duration-300"
          aria-label="Fechar imagem"
        >
          √ó
        </button>
      </div>
    </div>

    <!-- Main Image Container -->
    <div class="absolute inset-0 flex items-center justify-center p-4 pt-20 pb-16">
      <!-- Previous Button -->
      <button 
        id="prev-image" 
        class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/60 backdrop-blur-sm hover:bg-relentless-gold/20 rounded-full w-14 h-14 flex items-center justify-center text-white text-2xl font-bold transition-all duration-300 z-10"
        aria-label="Imagem anterior"
      >
        ‚Äπ
      </button>
      
      <!-- Full-Screen Image -->
      <img 
        id="fullscreen-image" 
        src="" 
        alt="" 
        class="max-w-full max-h-full object-contain rounded-lg shadow-2xl"
      />
      
      <!-- Next Button -->
      <button 
        id="next-image" 
        class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/60 backdrop-blur-sm hover:bg-relentless-gold/20 rounded-full w-14 h-14 flex items-center justify-center text-white text-2xl font-bold transition-all duration-300 z-10"
        aria-label="Pr√≥xima imagem"
      >
        ‚Ä∫
      </button>
    </div>

    <!-- Bottom Bar with Image Description -->
    <div class="absolute bottom-0 left-0 right-0 z-20 bg-gradient-to-t from-black/80 to-transparent p-4">
      <div class="text-center">
        <p id="image-description" class="text-white text-lg font-medium bg-black/40 backdrop-blur-sm rounded-lg px-4 py-2 inline-block max-w-4xl">
          <!-- Image alt text will be displayed here -->
        </p>
      </div>
    </div>

    <!-- Mobile Navigation Hints -->
    <div class="absolute inset-x-0 bottom-20 text-center text-white/60 text-sm md:hidden">
      <p class="bg-black/40 backdrop-blur-sm rounded-lg px-3 py-1 inline-block">
        Toque nas setas ou deslize para navegar
      </p>
    </div>
  </div>

  <LeadFormSticky client:load propertyId="beyondresidence" />
  <Footer />
</Layout>

<script>
  // Full-Screen Gallery Functionality
  document.addEventListener('DOMContentLoaded', function() {
    const galleryItems = document.querySelectorAll('.gallery-item img');
    const modal = document.getElementById('fullscreen-modal');
    const fullscreenImage = document.getElementById('fullscreen-image');
    const closeModal = document.getElementById('close-modal');
    const prevButton = document.getElementById('prev-image');
    const nextButton = document.getElementById('next-image');
    const currentImageSpan = document.getElementById('current-image');
    const totalImagesSpan = document.getElementById('total-images');
    const imageDescription = document.getElementById('image-description');
    
    let currentImageIndex = 0;
    const images = Array.from(galleryItems);
    
    // Set total images count
    if (totalImagesSpan) {
      totalImagesSpan.textContent = images.length.toString();
    }
    
    // Open modal when clicking on image
    images.forEach((img, index) => {
      img.addEventListener('click', function() {
        currentImageIndex = index;
        showImage(currentImageIndex);
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden'; // Prevent background scrolling
      });
    });
    
    // Close modal
    function closeModalFunction() {
      modal.classList.add('hidden');
      document.body.style.overflow = 'auto'; // Restore scrolling
    }
    
    closeModal.addEventListener('click', closeModalFunction);
    
    // Close modal when clicking outside the image
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        closeModalFunction();
      }
    });
    
    // Show specific image
    function showImage(index: number) {
      const img = images[index] as HTMLImageElement;
      const fullscreenImg = fullscreenImage as HTMLImageElement;
      if (fullscreenImg && img) {
        fullscreenImg.src = img.src;
        fullscreenImg.alt = img.alt;
      }
      if (imageDescription && img) {
        imageDescription.textContent = img.alt;
      }
      if (currentImageSpan) {
        currentImageSpan.textContent = (index + 1).toString();
      }
    }
    
    // Previous image
    prevButton.addEventListener('click', function(e) {
      e.stopPropagation();
      currentImageIndex = currentImageIndex > 0 ? currentImageIndex - 1 : images.length - 1;
      showImage(currentImageIndex);
    });
    
    // Next image
    nextButton.addEventListener('click', function(e) {
      e.stopPropagation();
      currentImageIndex = currentImageIndex < images.length - 1 ? currentImageIndex + 1 : 0;
      showImage(currentImageIndex);
    });
    
    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      if (!modal.classList.contains('hidden')) {
        switch(e.key) {
          case 'Escape':
            closeModalFunction();
            break;
          case 'ArrowLeft':
            prevButton.click();
            break;
          case 'ArrowRight':
            nextButton.click();
            break;
        }
      }
    });

    // Touch/Swipe support for mobile
    let touchStartX = 0;
    let touchEndX = 0;
    
    modal.addEventListener('touchstart', function(e) {
      touchStartX = e.changedTouches[0].screenX;
    });
    
    modal.addEventListener('touchend', function(e) {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });
    
    function handleSwipe() {
      const swipeThreshold = 50;
      const diff = touchStartX - touchEndX;
      
      if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
          // Swipe left - next image
          nextButton.click();
        } else {
          // Swipe right - previous image
          prevButton.click();
        }
      }
    }
    
  });
</script>
