---
import { Image } from 'astro:assets';
import CTAButtons from './CTAButtons.astro';

// Get property ID from props or URL
const { propertyId } = Astro.props;

// Dynamically import the property config and content
let config, content;
try {
  const propertyModule = await import(`../properties/${propertyId}/config.ts`);
  const contentModule = await import(`../properties/${propertyId}/content.ts`);
  config = propertyModule.config;
  content = contentModule.content;
} catch (error) {
  console.error(`Error loading property ${propertyId}:`, error);
  // Fallback to squaredesign if property not found
  const propertyModule = await import('../properties/squaredesign/config.ts');
  const contentModule = await import('../properties/squaredesign/content.ts');
  config = propertyModule.config;
  content = contentModule.content;
}
---

<section class="hero-section">
  <!-- Background Image -->
  <div class="hero-background">
    <Image 
      src={`/images/${propertyId}/hero/HeroBack.webp`}
      alt={`${config.name} - Fachada do empreendimento`}
      width={2340}
      height={1560}
      loading="eager"
      decoding="async"
      format="webp"
    />
    <div class="hero-overlay"></div>
  </div>
  
  <!-- Hero Content -->
  <div class="hero-content">
    <div class="container">
      <div class="max-w-4xl mx-auto">
        <!-- Main Headline -->
        <h1 class="hero-title animate-fade-in">
          <span class="block text-gold font-bold">{content.hero.headline}</span>
          <span class="block">{content.hero.description}</span>
        </h1>
        
        <!-- Subtitle -->
        <p class="hero-subtitle animate-slide-up">
          Condomínio completo e apartamentos espaçosos. <br>
          <strong class="text-gold">{config.specs.parking} de garagem.</strong>
        </p>
        
        <!-- Feature Chips -->
        <div class="chips-container animate-slide-up" style="animation-delay: 0.2s;">
          <span class="chip">{config.specs.bedrooms}</span>
          <span class="chip">{config.specs.area}</span>
          <span class="chip">{config.specs.parking}</span>
          <span class="chip">Piscinas</span>
          <span class="chip">Coworking</span>
          <span class="chip">{content.hero.subheadline}</span>
        </div>
        
        <!-- CTA Buttons -->
        <div class="cta-container animate-slide-up" style="animation-delay: 0.4s;">
          <CTAButtons />
        </div>
        
        <!-- Social Proof -->
        <div class="mt-8 animate-fade-in" style="animation-delay: 0.6s;">
          <p class="text-sm text-gray-300 mb-2">
            <span class="text-gold font-semibold">{config.location}</span>
          </p>
          <p class="text-xs text-gray-400">
            Condições especiais de pré-lançamento
          </p>
        </div>
      </div>
    </div>
  </div>
  
</section>
